stages:
  - vetting
  - tests

before_script:
  - go get -v github.com/golang/lint/golint

lint:
  image: golang
  stage: vetting
  script:
    - golint -set_exit_status ./...
  allow_failure: true

vet:
  image: golang
  stage: vetting
  script:
    - go vet ./...

unit_race_tests:
  image: golang
  stage: tests
  script:
    - go test -race ./...
